# Docker ê´€ë¦¬ ë„êµ¬ ì‚¬ìš©ë²•

ì´ ë„êµ¬ëŠ” `docker-compose.yml` íŒŒì¼ì„ ê¸°ë°˜ìœ¼ë¡œ Milvus ë²¡í„° ë°ì´í„°ë² ì´ìŠ¤ì™€ ê´€ë ¨ ì„œë¹„ìŠ¤ë“¤ì„ ì‰½ê²Œ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” bash ìŠ¤í¬ë¦½íŠ¸ì…ë‹ˆë‹¤.

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### ê¸°ë³¸ ì‚¬ìš©ë²•
```bash
# ë„ì›€ë§ ë³´ê¸°
./docker-manager.sh help

# ëª¨ë“  ì„œë¹„ìŠ¤ ì‹œì‘
./docker-manager.sh start

# ëª¨ë“  ì„œë¹„ìŠ¤ ì¤‘ì§€
./docker-manager.sh stop

# ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
./docker-manager.sh status
```

## ğŸ“‹ ì§€ì›í•˜ëŠ” ëª…ë ¹ì–´

### 1. ì„œë¹„ìŠ¤ ê´€ë¦¬
- **start** - ëª¨ë“  ì„œë¹„ìŠ¤ ë˜ëŠ” íŠ¹ì • ì„œë¹„ìŠ¤ ì‹œì‘
- **stop** - ëª¨ë“  ì„œë¹„ìŠ¤ ë˜ëŠ” íŠ¹ì • ì„œë¹„ìŠ¤ ì¤‘ì§€  
- **restart** - ëª¨ë“  ì„œë¹„ìŠ¤ ë˜ëŠ” íŠ¹ì • ì„œë¹„ìŠ¤ ì¬ì‹œì‘

### 2. ëª¨ë‹ˆí„°ë§
- **status** - ëª¨ë“  ì„œë¹„ìŠ¤ì˜ ìƒíƒœ í™•ì¸
- **logs** - ì„œë¹„ìŠ¤ ë¡œê·¸ ì‹¤ì‹œê°„ í™•ì¸
- **health** - ì„œë¹„ìŠ¤ í—¬ìŠ¤ì²´í¬ ìƒíƒœ í™•ì¸

### 3. ìœ ì§€ë³´ìˆ˜
- **build** - ì„œë¹„ìŠ¤ ì´ë¯¸ì§€ ë¹Œë“œ
- **clean** - ì¤‘ì§€ëœ ì»¨í…Œì´ë„ˆì™€ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì´ë¯¸ì§€ ì •ë¦¬
- **reset** - ëª¨ë“  ì„œë¹„ìŠ¤ ì¤‘ì§€ í›„ ë³¼ë¥¨ê¹Œì§€ ì™„ì „ ì‚­ì œ

## ğŸ—ï¸ ì„œë¹„ìŠ¤ êµ¬ì„±

ì´ ë„êµ¬ëŠ” ë‹¤ìŒ ì„œë¹„ìŠ¤ë“¤ì„ ê´€ë¦¬í•©ë‹ˆë‹¤:

| ì„œë¹„ìŠ¤ | ì„¤ëª… | í¬íŠ¸ | ìš©ë„ |
|--------|------|------|------|
| **etcd** | ë¶„ì‚° í‚¤-ê°’ ì €ì¥ì†Œ | 2379 | Milvus ë©”íƒ€ë°ì´í„° ì €ì¥ |
| **minio** | ê°ì²´ ìŠ¤í† ë¦¬ì§€ | 9000, 9001 | ë²¡í„° ë°ì´í„° ì €ì¥ |
| **standalone** | Milvus ë²¡í„° DB | 19530, 9091 | ë²¡í„° ê²€ìƒ‰ ì—”ì§„ |
| **attu** | Milvus ê´€ë¦¬ UI | 3000 | ì›¹ ê¸°ë°˜ ê´€ë¦¬ ì¸í„°í˜ì´ìŠ¤ |

## ğŸ’¡ ì‚¬ìš© ì˜ˆì‹œ

### ì „ì²´ ì„œë¹„ìŠ¤ ê´€ë¦¬
```bash
# ëª¨ë“  ì„œë¹„ìŠ¤ ì‹œì‘
./docker-manager.sh start

# ëª¨ë“  ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
./docker-manager.sh status

# ëª¨ë“  ì„œë¹„ìŠ¤ ë¡œê·¸ í™•ì¸
./docker-manager.sh logs

# ëª¨ë“  ì„œë¹„ìŠ¤ ì¤‘ì§€
./docker-manager.sh stop
```

### ê°œë³„ ì„œë¹„ìŠ¤ ê´€ë¦¬
```bash
# Milvusë§Œ ì‹œì‘
./docker-manager.sh start standalone

# MinIO ë¡œê·¸ í™•ì¸ (ìµœê·¼ 100ì¤„)
./docker-manager.sh logs minio 100

# etcd ì„œë¹„ìŠ¤ ì¬ì‹œì‘
./docker-manager.sh restart etcd
```

### í—¬ìŠ¤ì²´í¬ ë° ëª¨ë‹ˆí„°ë§
```bash
# ëª¨ë“  ì„œë¹„ìŠ¤ í—¬ìŠ¤ì²´í¬ ìƒíƒœ í™•ì¸
./docker-manager.sh health

# íŠ¹ì • ì„œë¹„ìŠ¤ ë¡œê·¸ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
./docker-manager.sh logs standalone
```

### ìœ ì§€ë³´ìˆ˜ ì‘ì—…
```bash
# ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” Docker ë¦¬ì†ŒìŠ¤ ì •ë¦¬
./docker-manager.sh clean

# ëª¨ë“  ì„œë¹„ìŠ¤ì™€ ë°ì´í„° ì™„ì „ ì‚­ì œ (ì£¼ì˜!)
./docker-manager.sh reset
```

## ğŸ”§ ê³ ê¸‰ ì‚¬ìš©ë²•

### ë¡œê·¸ í™•ì¸ ì˜µì…˜
```bash
# ê¸°ë³¸ (ìµœê·¼ 50ì¤„)
./docker-manager.sh logs

# ìµœê·¼ 100ì¤„
./docker-manager.sh logs standalone 100

# ì‹¤ì‹œê°„ ë¡œê·¸ ëª¨ë‹ˆí„°ë§
./docker-manager.sh logs minio
```

### ì„œë¹„ìŠ¤ ì‹œì‘ ìˆœì„œ
ì„œë¹„ìŠ¤ë“¤ì€ ë‹¤ìŒ ìˆœì„œë¡œ ìë™ ì‹œì‘ë©ë‹ˆë‹¤:
1. **etcd** - ë©”íƒ€ë°ì´í„° ì €ì¥ì†Œ
2. **minio** - ê°ì²´ ìŠ¤í† ë¦¬ì§€  
3. **standalone** - Milvus ë²¡í„° ë°ì´í„°ë² ì´ìŠ¤
4. **attu** - ì›¹ ê´€ë¦¬ ì¸í„°í˜ì´ìŠ¤

## âš ï¸ ì£¼ì˜ì‚¬í•­

### reset ëª…ë ¹ì–´ ì‚¬ìš© ì‹œ
- `reset` ëª…ë ¹ì–´ëŠ” **ëª¨ë“  ë°ì´í„°ë¥¼ ì‚­ì œ**í•©ë‹ˆë‹¤
- ë³¼ë¥¨ ë°ì´í„°ê°€ ì™„ì „íˆ ì‚­ì œë˜ë©° **ë³µêµ¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤**
- ì‹ ì¤‘í•˜ê²Œ ì‚¬ìš©í•˜ì„¸ìš”

### í¬íŠ¸ ì¶©ëŒ í™•ì¸
ë‹¤ìŒ í¬íŠ¸ë“¤ì´ ì‚¬ìš©ë˜ë¯€ë¡œ ë‹¤ë¥¸ ì„œë¹„ìŠ¤ì™€ ì¶©ëŒí•˜ì§€ ì•ŠëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”:
- 9002, 9003 (MinIO)
- 19532, 9092 (Milvus)
- 8001 (Attu UI)

## ğŸ› ë¬¸ì œ í•´ê²°

### Dockerê°€ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ” ê²½ìš°
```bash
# Docker ì„œë¹„ìŠ¤ ì‹œì‘ (Ubuntu/Debian)
sudo systemctl start docker

# Docker ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
sudo systemctl status docker
```

### ê¶Œí•œ ë¬¸ì œ
```bash
# ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ê¶Œí•œ ë¶€ì—¬
chmod +x docker-manager.sh
```

### í¬íŠ¸ ì¶©ëŒ
```bash
# ì‚¬ìš© ì¤‘ì¸ í¬íŠ¸ í™•ì¸
sudo netstat -tulpn | grep :19532
sudo netstat -tulpn | grep :9002
```

## ğŸ“Š ì„œë¹„ìŠ¤ ì ‘ì† ì •ë³´

ì„œë¹„ìŠ¤ê°€ ì •ìƒì ìœ¼ë¡œ ì‹œì‘ëœ í›„ ë‹¤ìŒ URLë¡œ ì ‘ì†í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

- **Milvus ê´€ë¦¬ UI (Attu)**: http://localhost:8001
- **MinIO ì½˜ì†”**: http://localhost:9003
  - ì‚¬ìš©ìëª…: `minioadmin`
  - ë¹„ë°€ë²ˆí˜¸: `minioadmin`

## ğŸ”„ ì›Œí¬í”Œë¡œìš° ì˜ˆì‹œ

### ê°œë°œ í™˜ê²½ ì„¤ì •
```bash
# 1. ëª¨ë“  ì„œë¹„ìŠ¤ ì‹œì‘
./docker-manager.sh start

# 2. ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
./docker-manager.sh status

# 3. í—¬ìŠ¤ì²´í¬ í™•ì¸
./docker-manager.sh health

# 4. Milvus UI ì ‘ì†
# http://localhost:8001
```

### ê°œë°œ ì¢…ë£Œ ì‹œ
```bash
# ëª¨ë“  ì„œë¹„ìŠ¤ ì¤‘ì§€
./docker-manager.sh stop
```

### ì™„ì „ ì´ˆê¸°í™” (í•„ìš”ì‹œ)
```bash
# ëª¨ë“  ë°ì´í„° ì‚­ì œ í›„ ì¬ì‹œì‘
./docker-manager.sh reset
./docker-manager.sh start
```

ì´ ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ë©´ Milvus ë²¡í„° ë°ì´í„°ë² ì´ìŠ¤ í™˜ê²½ì„ ì‰½ê³  ì•ˆì „í•˜ê²Œ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤! ğŸ‰
